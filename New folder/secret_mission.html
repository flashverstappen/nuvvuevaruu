<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Secret Question</title>
    <style>
        /* CSS STYLES */
        body {
            /* Playful, childish font */
            font-family: 'Comic Sans MS', cursive, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f8ff; /* Light, inviting background */
            color: #333;
            overflow: hidden; /* Hide overflow from falling items */
        }

        .container {
            text-align: center;
            padding: 40px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 10; /* Main content layer */
            max-width: 90%;
            width: 350px;
        }

        h1 {
            color: #ff69b4; /* Deep Pink */
            margin-bottom: 20px;
            font-size: 2.2rem; /* Slightly larger text */
            text-shadow: 1px 1px #ffc0cb;
        }

        #answerInput, button {
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
            width: 100%;
            box-sizing: border-box;
            font-size: 1rem;
            font-family: inherit; /* Use the childish font */
        }

        #answerInput {
            border: 3px dashed #ffc0cb; /* Playful dashed border */
            transition: border-color 0.3s;
        }

        #answerInput:focus {
            outline: none;
            border-color: #ff69b4;
        }

        button {
            background-color: #ff69b4;
            color: white;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s, transform 0.1s;
        }

        button:hover {
            background-color: #ff1493;
        }

        button:active {
            transform: scale(0.98);
        }

        #message {
            margin-top: 15px;
            font-weight: bold;
            color: #555;
            min-height: 20px;
        }

        /* --- FLOWER & STAR STYLING & ANIMATION --- */

        .flower-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; 
            z-index: 100; /* Set to fall on the front side, above the input */
        }

        .flower {
            position: absolute;
            font-size: 28px; /* Slightly larger falling items */
            animation: fall linear infinite;
            opacity: 0.9;
            top: -50px; 
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        /* Keyframes for the falling and rotating animation */
        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0.9;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Nuvvu evvaruuu?</h1>
        <input type="text" id="answerInput" placeholder="Enter your answer...">
        <button onclick="checkAnswer()">Submit</button>
        <p id="message"></p>
    </div>

    <!-- The audio element for the song -->
    <audio id="secretSong" src="johnny_johnny.mp3" preload="auto" loop></audio>

    <!-- The container for falling flowers and stars -->
    <div class="flower-container" id="flowerContainer"></div>

    <script>
        // JAVASCRIPT LOGIC
        const correctText = "nee bebbe";
        const answerInput = document.getElementById('answerInput');
        const secretSong = document.getElementById('secretSong');
        const flowerContainer = document.getElementById('flowerContainer');
        const messageDisplay = document.getElementById('message');
        
        // Define the items that will fall (Flowers, Stars, and Sparkles)
        const fallingItems = ['ðŸŒ¸', 'â­', 'âœ¨']; 
        
        let animationStarted = false; // Flag to ensure animation only starts once

        function checkAnswer() {
            const userAnswer = answerInput.value.trim().toLowerCase();
            
            if (userAnswer === correctText && !animationStarted) {
                
                // 1. Try to play the song immediately upon button click (user interaction)
                secretSong.volume = 0.5;
                secretSong.play().catch(error => {
                    // If playing fails, show the custom message and enable a global tap listener
                    showMessage("screen tap cheyyandi my princess..", '#00bfa5');
                    document.addEventListener('click', startMusicOnTap, { once: true });
                });

                // 2. Start the animation
                startFlowerAnimation();
                
                // Update the success message
                showMessage("ðŸ¥³ Ammo ne, Naa kuchi puchi bebbe ne!  ðŸ¥³", '#ff1493');
                animationStarted = true;
                
            } else if (userAnswer !== correctText) {
                // Wrong answer feedback
                showMessage(" Achaaaa jii, just anthe na.. think harderðŸ˜", '#f44336');
                answerInput.value = ''; // Clear the input
            }
        }
        
        // Function to start music if the browser blocked it and the user taps the screen
        function startMusicOnTap() {
            if (secretSong.paused) {
                secretSong.play().catch(console.error);
                // Clear the tap message once music starts
                if (messageDisplay.textContent === "screen tap cheyyandi my princess..") {
                    showMessage("ðŸ¥³ Ammo ne naa kuchi puchi bebbeee ne ðŸ¥³", '#ff1493');
                }
            }
        }

        function showMessage(text, color) {
            messageDisplay.textContent = text;
            messageDisplay.style.color = color;
        }

        // Function to generate and drop a falling item
        function createFlower() {
            const item = document.createElement('div');
            item.classList.add('flower'); 
            
            const randomItem = fallingItems[Math.floor(Math.random() * fallingItems.length)];
            item.innerHTML = randomItem; 
            
            item.style.left = Math.random() * 100 + 'vw';
            
            const duration = Math.random() * 5 + 5; 
            const delay = Math.random() * 0.5; 
            
            item.style.animationDuration = duration + 's';
            item.style.animationDelay = delay + 's';
            
            flowerContainer.appendChild(item);
            
            setTimeout(() => {
                item.remove();
            }, (duration + delay) * 1000);
        }

        // Function to continuously drop falling items
        function startFlowerAnimation() {
            setInterval(createFlower, 100); 
        }
    </script>
</body>
</html>